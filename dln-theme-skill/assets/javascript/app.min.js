/*! ========================================================================
 * App.js
 * Copyright 2014 pampersdry
 * ========================================================================
 *
 * This is the place where all the page related javascript is reside. You can
 * see example usage of plugin here :)
 * ======================================================================== */
if("undefined"==typeof jQuery)throw new Error("This application requires jQuery");var APP={init:function(){var a=$("html").Core();return a.data("Core")},helperFunction:{customSelect:function(){var a="([a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?)",b=function(a){return $.trim((a.first_name||"")+" "+(a.last_name||""))};$("#selectize-contact").selectize({persist:!1,maxItems:null,valueField:"email",labelField:"name",searchField:["first_name","last_name","email"],sortField:[{field:"first_name",direction:"asc"},{field:"last_name",direction:"asc"}],options:[{email:"nikola@tesla.com",first_name:"Nikola",last_name:"Tesla"},{email:"brian@thirdroute.com",first_name:"Brian",last_name:"Reavis"},{email:"pampersdry@gmail.com",first_name:"John",last_name:"Pozy"}],render:{item:function(a,c){var d=b(a);return"<div>"+(d?'<span class="name">'+c(d)+"</span>":"")+(a.email?'<small class="text-muted ml10">'+c(a.email)+"</small>":"")+"</div>"},option:function(a,c){var d=b(a),e=d||a.email,f=d?a.email:null;return'<div><span class="text-primary">'+c(e)+"</span><br/>"+(f?'<small class="text-muted">'+c(f)+"</small>":"")+"</div>"}},create:function(b){if(new RegExp("^"+a+"$","i").test(b))return{email:b};var c=b.match(new RegExp("^([^<]*)<"+a+">$","i"));if(c){var d=$.trim(c[1]),e=d.indexOf(" "),f=d.substring(0,e),g=d.substring(e+1);return{email:c[2],first_name:f,last_name:g}}return alert("Invalid email address."),!1}})},SummerNote:function(){$(".summernote").summernote({height:200,toolbar:[["style",["style"]],["style",["bold","italic","underline","clear"]],["fontsize",["fontsize"]],["color",["color"]],["para",["ul","ol","paragraph"]],["height",["height"]],["table",["table"]]]})}}};APP.init(),function(a){"dashboard"===a("body").data("page")&&(a(".sparklines").sparkline("html",{enableTagOptions:!0}),a.plot("#chart-audience",[{label:"Visit (All)",color:"#DC554F",data:[["Jan",47],["Feb",84],["Mar",60],["Apr",143],["May",39],["Jun",86],["Jul",87]]},{label:"Visit (Mobile)",color:"#9365B8",data:[["Jan",83],["Feb",32],["Mar",16],["Apr",47],["May",98],["Jun",84],["Jul",18]]}],{series:{lines:{show:!1},splines:{show:!0,tension:.4,lineWidth:2,fill:.8},points:{show:!0,radius:4}},grid:{borderColor:"rgba(0, 0, 0, 0.05)",borderWidth:1,hoverable:!0,backgroundColor:"transparent"},tooltip:!0,tooltipOpts:{content:"%x : %y",defaultTheme:!1},xaxis:{tickColor:"rgba(0, 0, 0, 0.05)",mode:"categories"},yaxis:{tickColor:"rgba(0, 0, 0, 0.05)"},shadowSize:0}))}(jQuery,window,document),function(a){if("component-animation"===a("body").data("page")){var e,f;a("body").on("click",".btn-toggle-anim",function(b){e=a(this).data("anim"),f=a(this).parents(".panel"),f.addClass("animation animating "+e).one("webkitAnimationEnd mozAnimationEnd MSAnimationEnd oanimationend animationend",function(){a(this).removeClass("animation animating "+e)}),b.preventDefault()})}}(jQuery,window,document),function(a){"page-email-view"===a("body").data("page")&&(APP.helperFunction.SummerNote(),APP.helperFunction.customSelect())}(jQuery,window,document),function(a){"page-email-inbox"===a("body").data("page")&&(setTimeout(function(){a.gritter.add({title:"You have (5) unread email",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",image:"image/avatar/avatar5.jpg",sticky:!1})},3e3),APP.helperFunction.SummerNote(),APP.helperFunction.customSelect())}(jQuery,window,document),function(a){("page-message-default"===a("body").data("page")||"page-message-rich"===a("body").data("page"))&&(setTimeout(function(){a.gritter.add({title:"You have (14) unread message",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",image:"image/avatar/avatar9.jpg",sticky:!1})},3e3),a("#photo-album").magnificPopup({delegate:".magnific",type:"image",gallery:{enabled:!0}}),APP.helperFunction.customSelect())}(jQuery,window,document),function(a){"page-media"===a("body").data("page")&&(a("#mixitup-grid").mixitup({effects:["fade","scale"],easing:"snap"}),a("#mixitup-grid").magnificPopup({delegate:".magnific",type:"image",gallery:{enabled:!0}}))}(jQuery,window,document),function(a){"page-profile"===a("body").data("page")&&a("#photo-list").magnificPopup({delegate:".magnific",type:"image",gallery:{enabled:!0}})}(jQuery,window,document),function(a){"table-default"===a("body").data("page")&&a(".sparklines").sparkline("html",{enableTagOptions:!0})}(jQuery,window,document),function(a,b,c){if("table-datatable"===a("body").data("page")){a("#zero-configuration").dataTable(),a("#ajax-source").dataTable({bProcessing:!0,sAjaxSource:"server/datatables/data.txt"}),a("#table-tools").dataTable({sDom:"<'row'<'col-sm-4'T><'col-sm-4'l><'col-sm-4'f>><'table-responsive'rt><'row'<'col-sm-6'p><'col-sm-6'i>>",oTableTools:{sSwfPath:"plugins/datatables/tabletools/swf/copy_csv_xls_pdf.swf",aButtons:["copy","print","pdf","csv"]}});var e=function(a,b){var c="",d=a.fnGetData(b);return c+='<table class="table table-condensed nm">',c+='<tr><td width="15%">Rendering engine:</td><td>'+d[1]+" "+d[4]+"</td></tr>",c+='<tr><td width="15%">Link to source:</td><td>Could provide a link here</td></tr>',c+='<tr><td width="15%">Extra info:</td><td>And any further details here (images etc)</td></tr>',c+="</table>"},f=c.createElement("th"),g=c.createElement("td");g.innerHTML='<a href="#" class="text-primary detail-toggler" style="text-decoration:none;font-size:14px;"><i class="ico-plus-circle"></i></a>',g.className="center",a("#row-detail thead tr").each(function(){this.insertBefore(f,this.childNodes[0])}),a("#row-detail tbody tr").each(function(){this.insertBefore(g.cloneNode(!0),this.childNodes[0])});var h=a("#row-detail").dataTable({aoColumnDefs:[{bSortable:!1,aTargets:[0]}],aaSorting:[[1,"asc"]]});a("#row-detail tbody td .detail-toggler").on("click",function(b){var c=a(this).parents("tr")[0];a(c).toggleClass("open"),h.fnIsOpen(c)?(a(this).children().attr("class","ico-plus-circle"),h.fnClose(c)):(a(this).children().attr("class","ico-minus-circle"),h.fnOpen(c,e(h,c),"details np")),b.preventDefault()})}}(jQuery,window,document),function(a){"form-editor"===a("body").data("page")&&APP.helperFunction.SummerNote()}(jQuery,window,document),function(a){"form-wizard"===a("body").data("page")&&(a("#wizard").steps({headerTag:".wizard-title",bodyTag:".wizard-container",onFinished:function(){alert("finished!")}}),a("#wizard-validate").steps({headerTag:".wizard-title",bodyTag:".wizard-container",transitionEffect:"fade",onStepChanging:function(b,c,d){return console.log(c),c>d?!0:3===d&&Number(a("#age-2").val())<18?!1:0===c?a(this).parsley().validate("order"):1===c?a(this).parsley().validate("information"):2===c?a(this).parsley().validate("payment"):void 0},onStepChanged:function(b,c,d){2===c&&Number(a("#age-2").val())>=18&&a("#form-3").steps("next"),2===c&&3===d&&a("#form-3").steps("previous")},onFinishing:function(){return a(this).parsley().validate()},onFinished:function(){alert("submitted!")}}))}(jQuery,window,document),function(a){"form-element"===a("body").data("page")&&(a("#datepicker1").datepicker(),a("#datepicker2").datepicker({showOtherMonths:!0,selectOtherMonths:!0}),a("#datepicker3").datepicker({showButtonPanel:!0}),a("#datepicker4").datepicker({changeMonth:!0,changeYear:!0}),a("#datepicker-from").datepicker({defaultDate:"+1w",numberOfMonths:2,onClose:function(b){a("#datepicker-to").datepicker("option","minDate",b)}}),a("#datepicker-to").datepicker({defaultDate:"+1w",numberOfMonths:2,onClose:function(b){a("#datepicker-from").datepicker("option","maxDate",b)}}),APP.helperFunction.customSelect(),a("#selectize-customselect").selectize(),a("#selectize-tagging").selectize({delimiter:",",persist:!1,create:function(a){return{value:a,text:a}}}),a("#selectize-select").selectize({create:!0,sortField:{field:"text",direction:"asc"},dropdownParent:"body"}),a("#selectize-selectmultiple").selectize({maxItems:3}))}(jQuery,window,document),function(a){"component-notification"===a("body").data("page")&&(function(){a("#add-sticky").on("click",function(b){a.gritter.add({title:"Sticky notice",text:"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Vivamus eget tincidunt velit.",sticky:!0}),b.preventDefault()}),a("#add-regular").on("click",function(b){a.gritter.add({title:"Regular notice",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",sticky:!1}),b.preventDefault()}),a("#add-max").on("click",function(b){a.gritter.add({title:"Max of 3 notice on screen",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",sticky:!1,before_open:function(){return 3==a(".gritter-item-wrapper").length?!1:void 0}}),b.preventDefault()}),a("#add-image").on("click",function(b){a.gritter.add({title:"Notice with image",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",image:"image/avatar/avatar5.jpg",sticky:!1}),b.preventDefault()}),a("#add-light").on("click",function(b){a.gritter.add({title:"Light notice",text:"This will fade out after a certain amount of time. Vivamus eget tincidunt velit.",image:"image/avatar/avatar8.jpg",class_name:"gritter-light",sticky:!0}),b.preventDefault()})}(),function(){a("#bootbox-alert").on("click",function(a){bootbox.alert("Hello world!"),a.preventDefault()}),a("#bootbox-confirm").on("click",function(a){bootbox.confirm("Are you sure?",function(){}),a.preventDefault()}),a("#bootbox-prompt").on("click",function(a){bootbox.prompt("What is your name?",function(){}),a.preventDefault()}),a("#bootbox-custom").on("click",function(a){bootbox.dialog({message:"I am a custom dialog",title:"Custom title",buttons:{success:{label:"Success",className:"btn-success",callback:function(){}},danger:{label:"Danger",className:"btn-danger",callback:function(){}},main:{label:"Primary",className:"btn-primary",callback:function(){}}}}),a.preventDefault()})}())}(jQuery,window,document),function(a){"component-custom-widget"===a("body").data("page")&&(a.plot("#visitor-wchart",[{color:"rgba(255, 255, 255, 0.5)",data:[[0,0],[1,0],[2,1],[3,2],[4,15],[5,5],[6,12]]}],{series:{lines:{show:!1},splines:{show:!0,tension:.4,lineWidth:2,fill:.5},points:{show:!0,fill:!0,radius:4}},grid:{borderColor:"rgba(255, 255, 255, 0.15)",borderWidth:1,hoverable:!0,backgroundColor:"transparent"},xaxis:{tickColor:"transparent"},yaxis:{tickColor:"rgba(255, 255, 255, 0.15)"},shadowSize:0}),a.plot("#violations-wchart",[{color:"#DC554F",data:[["Jan",35],["Feb",134],["Mar",85],["Apr",63],["May",96],["Jun",30],["Jul",61]]}],{series:{lines:{show:!1},splines:{show:!0,tension:.4,lineWidth:2,fill:.5},points:{show:!0,radius:4}},grid:{borderColor:"#eee",borderWidth:1,hoverable:!0,backgroundColor:"#fcfcfc"},tooltip:!0,tooltipOpts:{content:"%x : %y"},xaxis:{tickColor:"#fcfcfc",mode:"categories"},yaxis:{tickColor:"#eee"},shadowSize:0}))}(jQuery,window,document),function(a){"component-slider"===a("body").data("page")&&(a("#default-slider > li").each(function(){a(this).slider({value:a(this).data("min"),orientation:"horizontal",range:"min",animate:!0})}),a("#range-slider > li").each(function(){a(this).slider({range:!0,min:0,max:100,values:[a(this).data("min"),a(this).data("max")]})}),a("#fixed-max-slider").slider({range:"max",min:1,max:10,value:2,slide:function(b,c){a("#amount-max-slider").text(c.value)}}),a("#amount-max-slider").text(a("#fixed-max-slider").slider("value")),a("#fixed-min-slider").slider({range:"min",value:37,min:1,max:700,slide:function(b,c){a("#amount-min-slider").text(c.value)}}),a("#amount-min-slider").text(a("#fixed-min-slider").slider("value")),a("#snap-increment-slider").slider({value:100,min:0,max:500,step:50,slide:function(b,c){a("#amount-snap-increment-slider").text("$"+c.value)}}),a("#amount-snap-increment-slider").text("$"+a("#snap-increment-slider").slider("value")),a("#vertical-slider > li").each(function(){a(this).slider({orientation:"vertical",range:"min",min:0,max:100,value:a(this).data("min")})}),a("#vertical-range-slider > li").each(function(){a(this).slider({orientation:"vertical",range:!0,values:[a(this).data("min"),a(this).data("max")]})}))}(jQuery,window,document),function(a){if("page-calendar"===a("body").data("page")){var e=new Date,f=e.getDate(),g=e.getMonth(),h=e.getFullYear();a("#full_calendar").fullCalendar({header:{left:"prev,next",center:"title",right:"today,month,agendaWeek,agendaDay"},buttonText:{prev:'<i class="ico-angle-left"></i>',next:'<i class="ico-angle-right"></i>'},editable:!0,events:[{title:"All Day Event",start:new Date(h,g,1),className:"fc-event-primary"},{title:"Click me!.. seriously",start:new Date(h,g,f-5),end:new Date(h,g,f-2),className:"fc-event-success"},{id:999,title:"Repeating Event",start:new Date(h,g,f-3,16,0),allDay:!1,className:"fc-event-info"},{id:999,title:"Repeating Event",start:new Date(h,g,f+4,16,0),allDay:!1,className:"fc-event-warning"},{title:"Meeting",start:new Date(h,g,f,10,30),allDay:!1,className:"fc-event-danger"},{title:"Lunch",start:new Date(h,g,f,12,0),end:new Date(h,g,f,14,0),allDay:!1,className:"fc-event-inverse"},{title:"Birthday Party",start:new Date(h,g,f+1,19,0),end:new Date(h,g,f+1,22,30),allDay:!1},{title:"Click for Google",start:new Date(h,g,28),end:new Date(h,g,29),url:"http://google.com/",className:"fc-event-teal"}],eventClick:function(b){var e="";e+="<h5 class=semibold>",e+="<img class='img-circle mr10' src='image/avatar/avatar2.jpg' width='42px' height='42px' />",e+=b.title,e+="</h5>",e+="<hr/>",e+="<p class=''><span class='ico-clock'></span> Start: ",e+=a.fullCalendar.formatDate(b.start,"MM/dd/yyyy @ hh:mmtt"),e+="</p>",null!==b.end&&(e+="<p class=''><span class='ico-clock'></span>  End: ",e+=a.fullCalendar.formatDate(b.end,"MM/dd/yyyy @ hh:mmtt"),e+="</p>"),a(this).popover({placement:"left auto",html:!0,trigger:"manual",content:e}).popover("toggle")}}),a("#ModalAddEvent form").parsley(),a("#ModalAddEvent form").on("submit",function(a){a.preventDefault()}),a.listen("parsley:form:validate",a("#ModalAddEvent form"),function(){if(a("#ModalAddEvent form").parsley().isValid()){var c={id:999,title:a("input[name=eventname]").val(),start:a.fullCalendar.parseDate(a("input[name=datefrom]").val()),end:a.fullCalendar.parseDate(a("input[name=dateto]").val()),allDay:"yes"===a("select[name=allday]").val()?!0:!1,className:"fc-event-"+a("input[name=eventcolor]:checked").val()};a("#full_calendar").fullCalendar("renderEvent",c,!0),a("#ModalAddEvent").modal("hide")}}),a("#datepicker-from").datepicker({defaultDate:"+1w",onClose:function(b){a("#datepicker-to").datepicker("option","minDate",b)}}),a("#datepicker-to").datepicker({defaultDate:"+1w",onClose:function(b){a("#datepicker-from").datepicker("option","maxDate",b)}})}}(jQuery,window,document);